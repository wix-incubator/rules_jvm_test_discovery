load("//:java_test_discovery.bzl", "java_test_discovery")

java_library(
    name = "JUnitCompileTimeDep",
    srcs = ["JUnitCompileTimeDep.java"],
)

java_library(
    name = "JUnitRuntimeDep",
    srcs = ["JUnitRuntimeDep.java"],
)

java_library(
    name = "JunitWithDepsTest_Source",
    srcs = ["JunitWithDepsTest.java"],
    runtime_deps = [":JUnitRuntimeDep"],
    deps = ["@junit_junit","@org_hamcrest_hamcrest_core", ":JUnitCompileTimeDep"],
)

java_test_discovery(
    name = "JunitTestWithDeps",
    tests_from = [":JunitWithDepsTest_Source"],
    size = "small",
    print_discovered_classes = True,
    jvm_flags = ["-XX:HeapDumpPath=/some/custom/path"],
    suffixes = ["Test"],
)



java_library(
    name = "JunitMultipleSuffixes_Source",
    srcs = ["JunitSuffixE2E.java", "JunitSuffixIT.java"],
     deps = ["@junit_junit","@org_hamcrest_hamcrest_core"],
)

java_test_discovery(
    name = "JunitMultipleSuffixes",
    tests_from = [":JunitMultipleSuffixes_Source"],
    size = "small",
    print_discovered_classes = True,
    suffixes = [
        "E2E",
        "IT",
    ],
)

#scala_junit_test(
#    name = "JunitMultiplePrefixes",
#    size = "small",
#    srcs = ["src/main/scala/scalarules/test/junit/JunitMultiplePrefixes.scala"],
#    prefixes = [
#        "Test",
#        "OtherCustomPrefix",
#    ],
#    print_discovered_classes = True,
#)
#
#scala_junit_test(
#    name = "JunitPrefixesAndSuffixes",
#    size = "small",
#    srcs = [
#        "src/main/scala/scalarules/test/junit/JunitMultiplePrefixes.scala",
#        "src/main/scala/scalarules/test/junit/JunitMultipleSuffixes.scala",
#    ],
#    prefixes = ["Test"],
#    print_discovered_classes = True,
#    suffixes = ["E2E"],
#)
#
#scala_junit_test(
#    name = "JunitJavaTest",
#    size = "small",
#    srcs = ["src/main/scala/scalarules/test/junit/JunitJavaTest.java"],
#    suffixes = ["Test"],
#)